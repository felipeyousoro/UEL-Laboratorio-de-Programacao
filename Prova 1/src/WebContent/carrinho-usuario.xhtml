<!DOCTYPE html>
<ui:composition 
template="./usuario.xhtml"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:p="http://primefaces.org/ui">

	<ui:define name="usuario">
			
			<h:form id="carrinhoCompras">
			   	<p:outputLabel value="Nenhum produto escolhido" 
			   		rendered="#{empty carrinho.listaCarrinho}"/>
			   
				<p:dataTable id="tabelaProdutosEscolhidos" var="produto" 
			   			value="#{carrinho.listaCarrinho}" 
			   			rendered="#{not empty carrinho.listaCarrinho}" 
			   			paginator="true" rows="10" 
			   			paginatorTemplate="{CurrentPageReport} {FirstPageLink}
						{PreviousPageLink} {PageLinks} {NextPageLink}
						{LastPageLink} {RowsPerPageDropdown}"
						rowsPerPageTemplate="5,10,15">
			   			
				<p:column headerText="Nome">
			        <h:outputText id="nomeInput" value="#{produto.nome}"/>
			    </p:column>
			     
			    <p:column headerText="quantia">
			       	<h:outputText id="quantiaInput" value="#{produto.quantia}"/>
			    </p:column>
			     
			    <p:column headerText="preco">
			       	<h:outputText id="precoInput" value="#{produto.preco}"/>
			    </p:column>
			     
			 	<p:column headerText="total">
			     	<h:outputText id="total" value="#{produto.preco * produto.quantia}"/>
			    </p:column>
			      
			    <p:column>
	           		<p:commandButton update="carrinhoCompras" value="Remover"
	                        action="#{carrinho.diminuirQuantia(produto, 1)}"
	                        styleClass="ui-priority-primary">
	               </p:commandButton>
	        	</p:column>
	        		   
			</p:dataTable>
		</h:form>
	</ui:define>

</ui:composition>
