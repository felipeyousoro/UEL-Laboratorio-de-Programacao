<!DOCTYPE html>
<ui:composition 
template="./usuario.xhtml"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:p="http://primefaces.org/ui">

	<ui:define name="usuario">
				    
		<h:form id="produtos">
					
			<h:panelGrid columns="6" cellpadding="5" style="margin: 0 auto;">
				<p:outputLabel for="input" value="Nome:"/>
			   	<p:inputText id="input" value="#{produtoController.produto.nome}"/>
	           	<p:commandButton update="produtos" value="Buscar"
	                         action="#{produtoController.buscarPorNome}">
	           	</p:commandButton>
			</h:panelGrid>
	           
	        <p:growl id="growl" />
			<p:dataTable id="tabelaProdutos" var="produto" 
			   			value="#{produtoController.lista}" 
			   			rendered="#{not empty produtoController.lista}"
			   			paginator="true" rows="10" 
			   			paginatorTemplate="{CurrentPageReport} {FirstPageLink}
						{PreviousPageLink} {PageLinks} {NextPageLink}
						{LastPageLink} {RowsPerPageDropdown}"
						rowsPerPageTemplate="5,10,15">
			      
			 	<p:column headerText="ID">
			    	<h:outputText value="#{produto.id}" />
			    </p:column>
			    
			    <p:column headerText="Nome">
			        <h:outputText value="#{produto.nome}" />
			    </p:column>
			    
			 	<p:column headerText="Preco">
			        <h:outputText value="#{produto.preco}" />
			    </p:column>
			    
			    <p:column headerText="Quantidade">
			        <h:outputText value="#{produto.quantia}" />
			    </p:column>
			    
			    <p:column>
	        		<p:commandButton update="produtos:growl" value="Escolher"
	            	           action="#{carrinho.adicionarCarrinho(produto)}">
	               	</p:commandButton>
	        	</p:column>
	        		   
			</p:dataTable>
		</h:form>	
	</ui:define>

</ui:composition>
